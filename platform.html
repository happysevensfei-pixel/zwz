<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>造物主 平台 | 物理交互 · 分享 · 商城</title>
    <meta name="description" content="造物主平台：登录、分享物理演示、交互商城与更多功能。" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet" />
    <link rel="icon" href="/zwz/logo.jpg" type="image/jpeg">
    <style>
        :root {
            --bg-0: #0a0a0a;
            --bg-1: #0f0f12;
            --text-0: #ffffff;
            --text-1: #cfd3dc;
            --line: rgba(255, 255, 255, 0.08);
            --glass-0: rgba(255, 255, 255, 0.04);
            --glass-1: rgba(255, 255, 255, 0.10);
            --accent: #ffffff;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            color: var(--text-0);
            background: radial-gradient(1200px 800px at 80% -10%, #1b1e24 0%, var(--bg-1) 40%, var(--bg-0) 100%);
            overflow-x: hidden;
        }

        .bg-grid::before {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            background-image:
                linear-gradient(var(--line) 1px, transparent 1px),
                linear-gradient(90deg, var(--line) 1px, transparent 1px);
            background-size: 40px 40px, 40px 40px;
            mask-image: radial-gradient(80% 60% at 50% 20%, #000 60%, transparent 100%);
        }

        .noise::after {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.035"/></svg>') repeat;
            mix-blend-mode: soft-light;
        }

        /* 顶部导航 */
        .nav {
            position: sticky;
            top: 0;
            z-index: 20;
            width: 100%;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.05));
            border-bottom: 1px solid var(--line);
        }

        .nav-inner {
            max-width: 1280px;
            margin: 0 auto;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-mark {
            width: 36px;
            height: 36px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.05));
            border: 1px solid var(--line);
            box-shadow: inset 0 0 24px rgba(255, 255, 255, 0.08), 0 8px 24px rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .brand-mark img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        .brand-name {
            font-weight: 800;
            letter-spacing: .5px;
        }

        .nav-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* 通用按钮 */
        .btn {
            position: relative;
            appearance: none;
            cursor: pointer;
            border: 1px solid var(--line);
            color: var(--text-0);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border-radius: 12px;
            padding: 10px 14px;
            font-weight: 600;
            letter-spacing: .2px;
            transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-2px);
            border-color: rgba(255, 255, 255, 0.18);
            box-shadow: 0 10px 28px rgba(0, 0, 0, 0.45), inset 0 0 36px rgba(255, 255, 255, 0.06);
        }

        .btn:active {
            transform: translateY(0) scale(.98);
            box-shadow: inset 0 6px 18px rgba(0, 0, 0, 0.55);
        }

        .btn .glow {
            position: absolute;
            inset: -1px;
            border-radius: 12px;
            pointer-events: none;
            background: radial-gradient(480px 130px at var(--x, 50%) var(--y, 50%), rgba(255, 255, 255, 0.18), transparent 40%);
            opacity: 0;
            transition: opacity .2s ease;
        }

        .btn:hover .glow {
            opacity: 1;
        }

        .btn-primary {
            color: #111;
            background: linear-gradient(180deg, #fff, #d9d9d9);
        }

        /* 布局 */
        .layout {
            max-width: 1280px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 16px;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 1100px) {
            .layout {
                grid-template-columns: 1fr;
            }
        }

        .glass {
            border: 1px solid var(--line);
            border-radius: 16px;
            background: linear-gradient(180deg, var(--glass-1), var(--glass-0));
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.45), inset 0 0 60px rgba(255, 255, 255, 0.04);
        }

        /* 左侧：侧边栏 */
        .sidebar {
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .side-title {
            margin: 0 0 6px 0;
            font-size: 14px;
            color: var(--text-1);
            letter-spacing: .3px;
        }

        .filter {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            font-size: 12px;
            padding: 6px 10px;
            border-radius: 10px;
            border: 1px solid var(--line);
            color: var(--text-1);
            background: rgba(255, 255, 255, 0.04);
            cursor: pointer;
            transition: border-color .2s, transform .2s;
        }

        .tag:hover {
            border-color: rgba(255, 255, 255, 0.18);
            transform: translateY(-1px);
        }

        /* 中间：动态与分享 */
        .feed {
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            height: 90vh; /* 增加高度以提供更大的初始显示区域 */
            overflow-y: auto; /* 启用垂直滚动 */
        }
        
        /* 自定义滚动条样式 */
        .feed::-webkit-scrollbar {
            width: 8px; /* 滚动条宽度 */
        }
        
        .feed::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.04); /* 滚动条轨道背景 */
            border-radius: 4px; /* 轨道圆角 */
        }
        
        .feed::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.08)); /* 滚动条滑块渐变 */
            border: 1px solid rgba(255, 255, 255, 0.08); /* 滑块边框 */
            border-radius: 4px; /* 滑块圆角 */
            transition: background 0.2s ease, border-color 0.2s ease; /* 过渡效果 */
        }
        
        .feed::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.20), rgba(255, 255, 255, 0.12)); /* 鼠标悬停时的滑块渐变 */
            border-color: rgba(255, 255, 255, 0.12); /* 鼠标悬停时的边框颜色 */
        }
        
        .feed::-webkit-scrollbar-thumb:active {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.06)); /* 鼠标按下时的滑块渐变 */
        }
        
        /* 兼容Firefox */
        .feed {
            scrollbar-width: thin; /* 滚动条宽度 */
            scrollbar-color: rgba(255, 255, 255, 0.16) rgba(255, 255, 255, 0.04); /* 滑块和轨道颜色 */
        }

        .composer {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 8px;
        }

        .input {
            width: 100%;
            padding: 12px 14px;
            border-radius: 12px;
            border: 1px solid var(--line);
            background: rgba(255, 255, 255, 0.04);
            color: var(--text-0);
            outline: none;
        }

        .card {
            padding: 14px;
        }

        .post-head {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .avatar {
            width: 38px;
            height: 38px;
            border-radius: 10px;
            border: 1px solid var(--line);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.05));
        }

        .name {
            font-weight: 700;
            letter-spacing: .2px;
        }

        .time {
            color: var(--text-1);
            font-size: 12px;
        }

        .post-body {
            color: var(--text-1);
            line-height: 1.7;
            font-size: 14px;
        }

        .post-actions {
            margin-top: 10px;
            display: flex;
            gap: 8px;
        }

        /* 右侧：商城 */
        .shop {
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .product {
            display: grid;
            grid-template-columns: 64px 1fr auto;
            gap: 12px;
            align-items: center;
            padding: 10px;
        }

        .thumb {
            width: 64px;
            height: 64px;
            border-radius: 12px;
            border: 1px solid var(--line);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));
        }

        .pname {
            font-weight: 700;
        }

        .pdesc {
            color: var(--text-1);
            font-size: 12px;
        }

        .price {
            color: var(--text-0);
            font-weight: 700;
        }

        /* 登录弹窗 */
        .modal {
            position: fixed;
            inset: 0;
            z-index: 30;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.55);
        }

        .modal.open {
            display: flex;
        }

        .modal-card {
            width: 420px;
            max-width: calc(100% - 32px);
            border: 1px solid var(--line);
            border-radius: 18px;
            background: linear-gradient(180deg, var(--glass-1), var(--glass-0));
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            padding: 18px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6), inset 0 0 90px rgba(255, 255, 255, 0.05);
        }

        .modal-title {
            font-weight: 800;
            margin: 0 0 8px 0;
        }

        .modal-desc {
            color: var(--text-1);
            margin: 0 0 14px 0;
        }

        .field {
            display: grid;
            gap: 6px;
            margin-bottom: 10px;
        }

        .label {
            color: var(--text-1);
            font-size: 12px;
        }

        .ipt {
            padding: 12px 14px;
            border-radius: 12px;
            border: 1px solid var(--line);
            background: rgba(255, 255, 255, 0.04);
            color: var(--text-0);
            outline: none;
        }

        .row {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            margin-top: 10px;
        }

        /* 页脚 */
        .footer {
            max-width: 1280px;
            margin: 0 auto;
            padding: 18px 20px;
            color: var(--text-1);
            text-align: center;
            border-top: 1px solid var(--line);
        }
    </style>
</head>

<body class="bg-grid noise">
    <header class="nav">
        <div class="nav-inner">
            <div class="brand">
                <div class="brand-mark">
                    <img src="/zwz/logo.jpg" alt="造物主平台logo">
                </div>
                <div class="brand-name">造物主 平台</div>
            </div>
            <div class="nav-actions">
            <button class="btn btn-primary" id="btn-go-home">返回主页<span class="glow"></span></button>
            <button class="btn" id="btn-activity">活动中心<span class="glow"></span></button>
        </div>
        </div>
    </header>

    <!-- 活动中心模态框 -->
    <div id="activity-modal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; justify-content: center; align-items: center;">
        <div class="modal-content glass card" style="max-width: 800px; width: 90%; max-height: 80vh; overflow-y: auto; padding: 0; border-radius: 12px;">
            <style>
                /* 自定义滚动条样式 */
                .modal-content::-webkit-scrollbar {
                    width: 8px;
                }
                
                .modal-content::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 4px;
                }
                
                .modal-content::-webkit-scrollbar-thumb {
                    background: rgba(255, 255, 255, 0.2);
                    border-radius: 4px;
                    transition: background 0.2s ease;
                }
                
                .modal-content::-webkit-scrollbar-thumb:hover {
                    background: rgba(255, 255, 255, 0.3);
                }
                
                /* Firefox 滚动条样式 */
                .modal-content {
                    scrollbar-width: thin;
                    scrollbar-color: rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.05);
                }
            </style>
            <div class="modal-header" style="padding: 20px; border-bottom: 1px solid var(--line); display: flex; justify-content: space-between; align-items: center;">
                <h2 style="margin: 0; font-size: 24px;">活动中心</h2>
                <button id="close-modal" class="btn" style="background: none; border: none; color: var(--text-1); font-size: 24px; cursor: pointer;">&times;</button>
            </div>
            <div class="modal-body" style="padding: 20px;">
                <!-- 活动内容1 -->
                <div class="activity-item" style="margin-bottom: 24px; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                    <h3 style="margin-top: 0; margin-bottom: 12px; font-size: 18px;">活动内容1：物理实验设计大赛</h3>
                    <p style="margin-bottom: 12px;">参与我们的物理实验设计大赛，展示你的创造力和对物理原理的理解。获胜者将获得专业实验器材和独家培训机会！</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="color: var(--text-2); font-size: 14px;">活动时间：2025-11-01 至 2025-12-31</span>
                        <button class="btn btn-primary" style="color: #111;">立即参与</button>
                    </div>
                </div>
                
                <!-- 活动内容2 -->
                <div class="activity-item" style="margin-bottom: 24px; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                    <h3 style="margin-top: 0; margin-bottom: 12px; font-size: 18px;">活动内容2：物理大师讲座系列</h3>
                    <p style="margin-bottom: 12px;">邀请国内外知名物理学家进行线上讲座，深入探讨前沿物理理论和应用。每次讲座后还有互动问答环节！</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="color: var(--text-2); font-size: 14px;">下次讲座：2025-10-20 19:00</span>
                        <button class="btn btn-primary" style="color: #111;">预约提醒</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 活动中心模态框交互
        const activityModal = document.getElementById('activity-modal');
        const btnActivity = document.getElementById('btn-activity');
        const btnClose = document.getElementById('close-modal');
        
        // 点击活动中心按钮显示模态框
        btnActivity.addEventListener('click', function() {
            activityModal.style.display = 'flex';
        });
        
        // 点击关闭按钮隐藏模态框
        btnClose.addEventListener('click', function() {
            activityModal.style.display = 'none';
        });
        
        // 点击模态框外部区域关闭模态框
        window.addEventListener('click', function(event) {
            if (event.target === activityModal) {
                activityModal.style.display = 'none';
            }
        });
    </script>

    <main class="layout">
        <!-- 中间：分享动态 -->
        <section class="glass feed">
            <div class="composer">
                <div style="position: relative; width: 100%; display: flex; align-items: center; gap: 8px;">
                    <button id="filter-tutorial" class="btn" style="padding: 8px 14px; min-width: 60px; z-index: 1; border-top-right-radius: 0; border-bottom-right-radius: 0;">教程</button>
                    <button id="filter-resource" class="btn btn-primary" style="padding: 8px 14px; min-width: 60px; z-index: 1; border-top-left-radius: 0; border-bottom-left-radius: 0; color: #111;">资源</button>
                    <div style="position: relative; flex: 1;">
                        <input id="search-input" class="input" placeholder="搜索物理演示、知识点或用户…" style="padding-left: 40px;" />
                        <svg style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; fill: var(--text-1);" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                    </div>
                </div>
            </div>
            <script>
                // 教程数据
                const tutorialData = [
                    {
                        id: 1,
                        title: "物理基础教程 - 力学入门",
                        author: "物理教育团队",
                        time: "2025-10-01",
                        content: "本教程介绍物理学中的基础力学概念，包括牛顿三定律、摩擦力和弹力等。通过实例演示帮助学生理解抽象概念。",
                        images: 2
                    },
                    {
                        id: 2,
                        title: "动量守恒原理详解",
                        author: "力学研究组",
                        time: "2025-09-28",
                        content: "深入讲解动量守恒定律，通过多个碰撞实验展示动量在不同情况下的传递与守恒。包含详细的数学推导和实际应用。",
                        images: 2
                    },
                    {
                        id: 3,
                        title: "电磁学基础 - 电场与磁场",
                        author: "电磁学研究团队",
                        time: "2025-09-25",
                        content: "从库仑定律到安培定则，全面介绍电磁学基础知识。通过可视化演示展示电场线和磁感线的分布规律。",
                        images: 2
                    }
                ];
                
                // 筛选功能实现
                document.getElementById('filter-tutorial').addEventListener('click', function() {
                    this.classList.add('btn-primary');
                    this.style.color = '#111';
                    document.getElementById('filter-resource').classList.remove('btn-primary');
                    document.getElementById('filter-resource').style.color = '';
                    
                    // 隐藏所有现有的文章
                    const articles = document.querySelectorAll('.feed article');
                    articles.forEach(article => {
                        article.style.display = 'none';
                    });
                    
                    // 检查是否已经添加过教程内容
                    let tutorialContainer = document.getElementById('tutorial-container');
                    if (tutorialContainer) {
                        tutorialContainer.style.display = 'block';
                        return;
                    }
                    
                    // 创建教程内容容器
                    tutorialContainer = document.createElement('div');
                    tutorialContainer.id = 'tutorial-container';
                    
                    // 添加教程内容
                    tutorialData.forEach(tutorial => {
                        const tutorialElement = document.createElement('article');
                        tutorialElement.className = 'glass card';
                        tutorialElement.setAttribute('data-tags', 'tutorial');
                        
                        // 创建内容HTML
                        let imagesHTML = '';
                        for (let i = 0; i < tutorial.images; i++) {
                            imagesHTML += `<div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>`;
                        }
                        
                        tutorialElement.innerHTML = `
                            <div style="display: flex; gap: 12px;">
                                <div style="flex: 1;">
                                    <div class="post-head">
                                        <div class="avatar"></div>
                                        <div>
                                            <div class="name">${tutorial.title}</div>
                                            <div class="time">${tutorial.time}</div>
                                            <div class="author" style="color: var(--text-2); font-size: 12px;">作者：${tutorial.author}</div>
                                        </div>
                                    </div>
                                    <div class="post-body">${tutorial.content}</div>
                                    <div class="post-actions">
                                        <button class="btn btn-like">收藏 42<span class="glow"></span></button>
                                        <button class="btn btn-share">分享<span class="glow"></span></button>
                                        <button class="btn btn-open">开始学习<span class="glow"></span></button>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 8px; flex-shrink: 0;">
                                    ${imagesHTML}
                                </div>
                            </div>
                        `;
                        
                        // 添加文章间距样式
                        tutorialElement.style.marginBottom = '16px';
                        
                        tutorialContainer.appendChild(tutorialElement);
                    });
                    
                    // 将教程容器插入到搜索框下方
                    const composerElement = document.querySelector('.composer');
                    composerElement.parentNode.insertBefore(tutorialContainer, composerElement.nextSibling);
                });
                
                document.getElementById('filter-resource').addEventListener('click', function() {
                    this.classList.add('btn-primary');
                    this.style.color = '#111';
                    document.getElementById('filter-tutorial').classList.remove('btn-primary');
                    document.getElementById('filter-tutorial').style.color = '';
                    
                    // 显示所有资源（当前页面的内容）
                    const articles = document.querySelectorAll('.feed article');
                    articles.forEach(article => {
                        article.style.display = 'block';
                    });
                    
                    // 隐藏教程内容
                    const tutorialContainer = document.getElementById('tutorial-container');
                    if (tutorialContainer) {
                        tutorialContainer.style.display = 'none';
                    }
                });
            </script>

            <article class="glass card" data-tags="gravity vector">
                <div style="display: flex; gap: 12px;">
                    <div style="flex: 1;">
                        <div class="post-head">
                            <div class="avatar"></div>
                            <div>
                                <div class="name">造物主官方——平抛运动演示</div>
                                <div class="time">2025-10-04</div>
                                <div class="author" style="color: var(--text-2); font-size: 12px;">作者：物理教育团队</div>
                            </div>
                        </div>
                        <div class="post-body">平抛运动展示，为教师提供平抛运动的展示。</div>
                        <div class="post-actions">
                            <button class="btn btn-download">下载<span class="glow"></span></button>
                            <button class="btn btn-like">点赞 128<span class="glow"></span></button>
                            <button class="btn btn-share">分享<span class="glow"></span></button>
                            <button class="btn btn-open">打开演示<span class="glow"></span></button>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px; flex-shrink: 0;">
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                    </div>
                </div>
            </article>

            <article class="glass card" data-tags="collision">
                <div style="display: flex; gap: 12px;">
                    <div style="flex: 1;">
                        <div class="post-head">
                            <div class="avatar"></div>
                            <div>
                                <div class="name">课堂助手</div>
                                <div class="time">昨天 · 碰撞</div>
                                <div class="author" style="color: var(--text-2); font-size: 12px;">作者：教学演示组</div>
                            </div>
                        </div>
                        <div class="post-body">一维完全弹性碰撞：改变质量比与初始速度，观察动量与能量传递的细节。</div>
                        <div class="post-actions">
                            <button class="btn btn-download">下载<span class="glow"></span></button>
                            <button class="btn btn-like">点赞 76<span class="glow"></span></button>
                            <button class="btn btn-share">分享<span class="glow"></span></button>
                            <button class="btn btn-open">打开演示<span class="glow"></span></button>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px; flex-shrink: 0;">
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                    </div>
                </div>
            </article>

            <article class="glass card" data-tags="oscillation">
                <div style="display: flex; gap: 12px;">
                    <div style="flex: 1;">
                        <div class="post-head">
                            <div class="avatar"></div>
                            <div>
                                <div class="name">WaveStudio</div>
                                <div class="time">2 天前 · 振动</div>
                                <div class="author" style="color: var(--text-2); font-size: 12px;">作者：波动物理研究组</div>
                            </div>
                        </div>
                        <div class="post-body">简谐振动：位移-速度相图与能量分布可视化，适合课堂演示和自学练习。</div>
                        <div class="post-actions">
                            <button class="btn btn-download">下载<span class="glow"></span></button>
                            <button class="btn btn-like">点赞 54<span class="glow"></span></button>
                            <button class="btn btn-share">分享<span class="glow"></span></button>
                            <button class="btn btn-open">打开演示<span class="glow"></span></button>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px; flex-shrink: 0;">
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                    </div>
                </div>
            </article>
        </section>

        <!-- 右侧：商城 -->
        <aside class="glass shop">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                <h4 class="side-title">交互商城</h4>
                <div style="display:flex; gap:8px;">
                    <button class="btn" id="btn-cart">查看购物车<span class="glow"></span></button>
                    <button class="btn btn-primary" id="btn-checkout">结算<span class="glow"></span></button>
                </div>
            </div>
            <div class="grid">
                <div class="glass product">
                    <div class="thumb"></div>
                    <div>
                        <div class="pname">平抛运动</div>
                        <div class="pdesc">平抛运动展示</div>
                    </div>
                    <div style="display:flex; flex-direction:column; align-items:flex-end; gap:6px;">
                        <div class="price">¥ 0.5</div>
                        <button class="btn btn-add" data-id="vpack">加入<span class="glow"></span></button>
                    </div>
                </div>
                <div class="glass product">
                    <div class="thumb"></div>
                    <div>
                        <div class="pname">动量守恒</div>
                        <div class="pdesc">有三个不同的场景</div>
                    </div>
                    <div style="display:flex; flex-direction:column; align-items:flex-end; gap:6px;">
                        <div class="price">¥ 0.8</div>
                        <button class="btn btn-add" data-id="impactfx">加入<span class="glow"></span></button>
                    </div>
                </div>
                <div class="glass product">
                    <div class="thumb"></div>
                    <div>
                        <div class="pname">课堂互动投票</div>
                        <div class="pdesc">提问/投票/抢答组件</div>
                    </div>
                    <div style="display:flex; flex-direction:column; align-items:flex-end; gap:6px;">
                        <div class="price">¥ 15</div>
                        <button class="btn btn-add" data-id="classvote">加入<span class="glow"></span></button>
                    </div>
                </div>
            </div>
        </aside>
    </main>


    <script>
        // 光斑跟随
        document.querySelectorAll('.btn').forEach(function (button) {
            button.addEventListener('pointermove', function (e) {
                const rect = button.getBoundingClientRect();
                const x = e.clientX - rect.left; const y = e.clientY - rect.top;
                button.style.setProperty('--x', x + 'px');
                button.style.setProperty('--y', y + 'px');
            });
        });

        // 返回主页
        document.getElementById('btn-go-home').addEventListener('click', () => { window.location.href = 'index.html'; });

        // 搜索功能
        document.getElementById('search-input')?.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const searchTerm = e.target.value.trim();
                if (searchTerm) {
                    alert('搜索: ' + searchTerm);
                    // 这里可以添加实际的搜索逻辑
                }
            }
        });

        // 点赞/分享/打开 演示 按钮
        function wirePostActions(root) {
            root.querySelectorAll('.btn-like').forEach(btn => btn.addEventListener('click', function () {
                const num = (this.textContent.match(/\d+/) || ['0'])[0];
                const n = parseInt(num, 10) + 1; this.firstChild.nodeValue = '点赞 ' + n + ' ';
            }));
            root.querySelectorAll('.btn-share').forEach(btn => btn.addEventListener('click', () => alert('已复制分享链接')));
            root.querySelectorAll('.btn-open').forEach(btn => btn.addEventListener('click', () => window.location.href = '3.html'));
        }
        wirePostActions(document);

        // 商城交互
        const cart = new Set();
        document.querySelectorAll('.btn-add').forEach(btn => btn.addEventListener('click', function () {
            const id = this.getAttribute('data-id');
            if (!cart.has(id)) { cart.add(id); this.textContent = '已加入'; }
            else { cart.delete(id); this.textContent = '加入'; }
        }));
        document.getElementById('btn-cart').addEventListener('click', () => alert('购物车：' + (cart.size ? Array.from(cart).join(', ') : '空')));
        document.getElementById('btn-checkout').addEventListener('click', () => alert('结算完成（示例）'));

        // 标签筛选（示例）
        document.querySelectorAll('.tag[data-tag]').forEach(tag => tag.addEventListener('click', function () {
            const t = this.getAttribute('data-tag');
            document.querySelectorAll('.feed .card').forEach(card => {
                const has = (card.getAttribute('data-tags') || '').includes(t);
                card.style.display = has ? '' : 'none';
            });
        }));
        // 动态添加文章的函数
        function addArticle(articleData) {
            const article = document.createElement('article');
            
            // 设置文章内容
            article.innerHTML = `
                <div style="display: flex; gap: 12px;">
                    <div style="flex: 1;">
                        <div class="post-head">
                            <div class="avatar"></div>
                            <div>
                                <div class="name">${articleData.title}</div>
                                <div class="time">${articleData.time}</div>
                                <div class="author" style="color: var(--text-2); font-size: 12px;">作者：${articleData.author}</div>
                            </div>
                        </div>
                        <div class="post-body">${articleData.content}</div>
                        <div class="post-actions">
                            <button class="btn btn-download">下载<span class="glow"></span></button>
                            <button class="btn btn-like">点赞<span class="glow"></span></button>
                            <button class="btn btn-share">分享<span class="glow"></span></button>
                            <button class="btn btn-open">打开演示<span class="glow"></span></button>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px; flex-shrink: 0;">
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                        <div style="width: 160px; height: 120px; border-radius: 8px; border: 1px solid var(--line); background: linear-gradient(135deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));"></div>
                    </div>
                </div>
            `;
            
            // 设置标签属性
            if (articleData.tags) {
                article.setAttribute('data-tags', articleData.tags);
            }
            
            // 设置其他属性
            article.className = 'glass card';
            
            // 将文章添加到容器中
            const feedContainer = document.querySelector('.feed');
            if (feedContainer) {
                feedContainer.appendChild(article);
            }
            
            // 绑定按钮事件
            wirePostActions(article);
            
            return article;
        }
        
        // 绑定文章操作按钮事件
        function wirePostActions(container) {
            // 下载按钮事件
            container.querySelectorAll('.btn-download').forEach(btn => {
                btn.addEventListener('click', function() {
                    const title = this.closest('article').querySelector('.name').textContent;
                    alert(`正在下载: ${title}`);
                    // 这里可以添加实际的下载逻辑
                });
            });
            
            // 点赞按钮事件
            container.querySelectorAll('.btn-like').forEach(btn => {
                btn.addEventListener('click', function() {
                    const title = this.closest('article').querySelector('.name').textContent;
                    let likes = parseInt(this.textContent.match(/\d+/)[0]);
                    
                    if (this.classList.contains('liked')) {
                        this.classList.remove('liked');
                        likes--;
                        alert(`取消点赞: ${title}`);
                    } else {
                        this.classList.add('liked');
                        likes++;
                        alert(`点赞成功: ${title}`);
                    }
                    
                    this.innerHTML = `点赞 ${likes}<span class="glow"></span>`;
                });
            });
            
            // 分享按钮事件
            container.querySelectorAll('.btn-share').forEach(btn => {
                btn.addEventListener('click', function() {
                    const title = this.closest('article').querySelector('.name').textContent;
                    alert(`分享: ${title}`);
                    // 这里可以添加实际的分享逻辑
                });
            });
            
            // 打开演示按钮事件
            container.querySelectorAll('.btn-open').forEach(btn => {
                btn.addEventListener('click', function() {
                    const title = this.closest('article').querySelector('.name').textContent;
                    const tags = this.closest('article').getAttribute('data-tags');
                    alert(`打开演示: ${title}\n标签: ${tags}`);
                    // 这里可以添加实际的打开演示逻辑
                    // window.location.href = 'some-demo-url.html';
                });
            });
        }
        
        // 示例JSON数据
        const articleExample = {
            "title": "新物理演示",
            "time": "刚刚",
            "author": "演示创建者",
            "content": "这是一个新的物理演示示例，可以通过JavaScript动态添加。",
            "tags": "example physics",
            "likes": 0
        };
        
        // 为所有现有文章绑定事件
        document.addEventListener('DOMContentLoaded', function() {
            wirePostActions(document);
            
            // 获取发布演示按钮并添加事件
            const publishButton = document.getElementById('btn-create');
            if (publishButton) {
                publishButton.addEventListener('click', function() {
                    // 创建模态对话框
                    const modal = document.createElement('div');
                    modal.className = 'modal-overlay';
                    modal.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background: rgba(0, 0, 0, 0.7);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        z-index: 1000;
                        backdrop-filter: blur(4px);
                    `;
                    
                    // 创建对话框内容
                    const modalContent = document.createElement('div');
                    modalContent.className = 'glass card';
                    modalContent.style.cssText = `
                        background: var(--bg-glass);
                        border: 1px solid var(--line);
                        border-radius: 12px;
                        padding: 24px;
                        width: 90%;
                        max-width: 500px;
                        max-height: 80vh;
                        overflow-y: auto;
                    `;
                    
                    // 表单内容
                    modalContent.innerHTML = `
                        <h2 style="margin-top: 0; margin-bottom: 20px; color: var(--text-1);">发布新演示</h2>
                        <form id="publish-form">
                            <div style="margin-bottom: 16px;">
                                <label style="display: block; margin-bottom: 6px; color: var(--text-2);">标题</label>
                                <input 
                                    type="text" 
                                    name="title" 
                                    required 
                                    style="
                                        width: 100%;
                                        padding: 10px;
                                        background: var(--bg-field);
                                        border: 1px solid var(--line);
                                        border-radius: 6px;
                                        color: var(--text-1);
                                        font-size: 14px;
                                    "
                                    placeholder="请输入演示标题"
                                >
                            </div>
                            
                            <div style="margin-bottom: 16px;">
                                <label style="display: block; margin-bottom: 6px; color: var(--text-2);">作者</label>
                                <input 
                                    type="text" 
                                    name="author" 
                                    required 
                                    style="
                                        width: 100%;
                                        padding: 10px;
                                        background: var(--bg-field);
                                        border: 1px solid var(--line);
                                        border-radius: 6px;
                                        color: var(--text-1);
                                        font-size: 14px;
                                    "
                                    placeholder="请输入作者名称"
                                >
                            </div>
                            
                            <div style="margin-bottom: 16px;">
                                <label style="display: block; margin-bottom: 6px; color: var(--text-2);">内容介绍</label>
                                <textarea 
                                    name="content" 
                                    rows="4" 
                                    required 
                                    style="
                                        width: 100%;
                                        padding: 10px;
                                        background: var(--bg-field);
                                        border: 1px solid var(--line);
                                        border-radius: 6px;
                                        color: var(--text-1);
                                        font-size: 14px;
                                        resize: vertical;
                                    "
                                    placeholder="请输入演示内容介绍"
                                ></textarea>
                            </div>
                            
                            <div style="margin-bottom: 16px;">
                                <label style="display: block; margin-bottom: 6px; color: var(--text-2);">上传图片 1</label>
                                <input 
                                    type="file" 
                                    name="image1" 
                                    accept="image/*" 
                                    required
                                    style="
                                        width: 100%;
                                        padding: 8px;
                                        background: var(--bg-field);
                                        border: 1px solid var(--line);
                                        border-radius: 6px;
                                        color: var(--text-1);
                                        font-size: 14px;
                                    "
                                >
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; margin-bottom: 6px; color: var(--text-2);">上传图片 2</label>
                                <input 
                                    type="file" 
                                    name="image2" 
                                    accept="image/*" 
                                    required
                                    style="
                                        width: 100%;
                                        padding: 8px;
                                        background: var(--bg-field);
                                        border: 1px solid var(--line);
                                        border-radius: 6px;
                                        color: var(--text-1);
                                        font-size: 14px;
                                    "
                                >
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; margin-bottom: 6px; color: var(--text-2);">上传文件</label>
                                <input 
                                    type="file" 
                                    name="file" 
                                    accept=".js,.html,.css,.zip" 
                                    style="
                                        width: 100%;
                                        padding: 8px;
                                        background: var(--bg-field);
                                        border: 1px solid var(--line);
                                        border-radius: 6px;
                                        color: var(--text-1);
                                        font-size: 14px;
                                    "
                                >
                            </div>
                            
                            <div style="display: flex; gap: 12px; justify-content: flex-end;">
                                <button type="button" class="btn" id="cancel-publish">取消<span class="glow"></span></button>
                                <button type="submit" class="btn" id="confirm-publish">发布<span class="glow"></span></button>
                            </div>
                        </form>
                    `;
                    
                    // 添加滚动条样式
                    const style = document.createElement('style');
                    style.textContent = `
                        .modal-overlay .glass.card {
                            scrollbar-width: 8px;
                            scrollbar-color: rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.05);
                        }
                        
                        .modal-overlay .glass.card::-webkit-scrollbar {
                            width: 8px;
                        }
                        
                        .modal-overlay .glass.card::-webkit-scrollbar-track {
                            background: rgba(255, 255, 255, 0.05);
                            border-radius: 4px;
                        }
                        
                        .modal-overlay .glass.card::-webkit-scrollbar-thumb {
                            background: rgba(255, 255, 255, 0.2);
                            border-radius: 4px;
                            border: 2px solid rgba(255, 255, 255, 0.05);
                        }
                        
                        .modal-overlay .glass.card::-webkit-scrollbar-thumb:hover {
                            background: rgba(255, 255, 255, 0.3);
                        }
                        
                        .modal-overlay .glass.card::-webkit-scrollbar-thumb:active {
                            background: rgba(255, 255, 255, 0.4);
                        }
                    `;
                    modal.appendChild(style);
                    modal.appendChild(modalContent);
                    document.body.appendChild(modal);
                    
                    // 取消按钮事件
                    document.getElementById('cancel-publish').addEventListener('click', function() {
                        document.body.removeChild(modal);
                    });
                    
                    // 表单提交事件
                    // 处理表单提交
                    const publishForm = modalContent.querySelector('#publish-form');
                    publishForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        
                        if (confirm('确认发布此演示吗？')) {
                            // 获取表单数据
                            const formData = new FormData(publishForm);
                            
                            // 读取图片文件并转换为DataURL
                            const readImageFile = (file) => {
                                return new Promise((resolve) => {
                                    if (!file) {
                                        resolve(null);
                                        return;
                                    }
                                    
                                    const reader = new FileReader();
                                    reader.onload = (e) => resolve(e.target.result);
                                    reader.readAsDataURL(file);
                                });
                            };
                            
                            // 处理两个图片文件
                            Promise.all([
                                readImageFile(formData.get('image1')),
                                readImageFile(formData.get('image2'))
                            ]).then(([image1, image2]) => {
                                // 创建文章数据对象
                                const articleData = {
                                    title: formData.get('title'),
                                    author: formData.get('author'),
                                    content: formData.get('content'),
                                    time: '刚刚',
                                    image1: image1,
                                    image2: image2,
                                    // 保留标签字段以便向后兼容，但不再使用
                                    tags: ''
                                };
                                
                                // 添加新文章
                                addArticle(articleData);
                                
                                // 显示成功消息
                                alert('发布成功！');
                                
                                // 关闭模态框
                                document.body.removeChild(modal);
                            });
                        }
                    });
                    
                    // 点击外部关闭
                    modal.addEventListener('click', function(e) {
                        if (e.target === modal) {
                            document.body.removeChild(modal);
                        }
                    });
                });
            }
        });
    </script>
</body>


</html>
